<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PhD Gantt Dashboard â€” Wadie Kadri</title>

<!-- Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!-- html2canvas & jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script type="text/javascript">
google.charts.load('current', { packages: ['gantt'] });
let chartSets = {};

function toDate(y,m,d){ return new Date(y, m-1, d); }

google.charts.setOnLoadCallback(init);

function init(){
    chartSets = buildChartData();
    drawAllCharts();
}

function buildChartData(){
    const colors = { Research:'#2196F3', Design:'#4CAF50', Development:'#009688', Evaluation:'#757575', Publication:'#673AB7', Milestone:'#FF9800' };
    const baseOptions = {
        trackHeight:30,
        barCornerRadius:4,
        criticalPathEnabled:true,
        criticalPathStyle:{stroke:'#e64a19',strokeWidth:5},
        labelStyle:{fontName:'Arial',fontSize:13},
        innerGridTrack:{fill:'#f9f9f9'},
        innerGridDarkTrack:{fill:'#eeeeee'},
        palette: Object.keys(colors).map(k=>({ color: colors[k], dark: colors[k], light: colors[k], from: k }))
    };

    const d12 = new google.visualization.DataTable();
    d12.addColumn('string','Task ID');
    d12.addColumn('string','Task Name');
    d12.addColumn('string','Resource');
    d12.addColumn('date','Start Date');
    d12.addColumn('date','End Date');
    d12.addColumn('number','Duration');
    d12.addColumn('number','Percent Complete');
    d12.addColumn('string','Dependencies');
    d12.addRows([
        ['P1','Scope Definition & Search Strategy','Research', toDate(2026,2,1), toDate(2026,2,8), null, 100, null],
        ['P12','Continuous Literature & Research Monitoring','Research', toDate(2026,2,1), toDate(2026,5,12), null, 0, null]
        // Add remaining tasks here
    ]);

    const dY1 = new google.visualization.DataTable();
    dY1.addColumn('string','Task ID');
    dY1.addColumn('string','Task Name');
    dY1.addColumn('string','Resource');
    dY1.addColumn('date','Start Date');
    dY1.addColumn('date','End Date');
    dY1.addColumn('number','Duration');
    dY1.addColumn('number','Percent Complete');
    dY1.addColumn('string','Dependencies');
    dY1.addRows([
        ['Y1','Literature Review (incl. Survey Paper)','Research', toDate(2026,2,1), toDate(2026,5,12), null, 100, null]
        // Add remaining Year 1 tasks here
    ]);

    const d3 = new google.visualization.DataTable();
    d3.addColumn('string','Task ID');
    d3.addColumn('string','Task Name');
    d3.addColumn('string','Resource');
    d3.addColumn('date','Start Date');
    d3.addColumn('date','End Date');
    d3.addColumn('number','Duration');
    d3.addColumn('number','Percent Complete');
    d3.addColumn('string','Dependencies');
    d3.addRows([
        ['J19','Continuous Monitoring of New Research & Publications','Research', toDate(2026,2,1), toDate(2028,12,31), null, 0, null]
        // Add remaining 3-year tasks here
    ]);

    return { d12, dY1, d3, baseOptions };
}

function drawAllCharts(){
    const c12 = new google.visualization.Gantt(document.getElementById('chart_12w'));
    const cy1 = new google.visualization.Gantt(document.getElementById('chart_y1'));
    const c3 = new google.visualization.Gantt(document.getElementById('chart_3y'));
    c12.draw(chartSets.d12, { height: 700, gantt: chartSets.baseOptions });
    cy1.draw(chartSets.dY1, { height: 700, gantt: chartSets.baseOptions });
    c3.draw(chartSets.d3, { height: 1150, gantt: chartSets.baseOptions });
}

function showTab(tabId){
    document.querySelectorAll('.tab-content').forEach(el=>el.style.display='none');
    document.getElementById(tabId).style.display='block';
    document.querySelectorAll('.tab-button').forEach(b=>b.classList.remove('active'));
    document.querySelector(`[data-tab='${tabId}']`).classList.add('active');
    setTimeout(()=> drawAllCharts(),150);
}

async function exportPDF(){
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ orientation:'landscape', unit:'pt', format:'a3' });
    const section = document.getElementById('pdf_section');
    const canvas = await html2canvas(section, { scale: 2 });
    const img = canvas.toDataURL('image/png');
    const pdfW = pdf.internal.pageSize.getWidth();
    const pdfH = (canvas.height * pdfW) / canvas.width;
    pdf.addImage(img, 'PNG', 0, 0, pdfW, pdfH);
    pdf.save('PhD_Gantt_Plan_WadieKadri.pdf');
}
</script>

<style>
body{font-family:Arial, sans-serif;margin:20px;}
h1,h2{color:#1A237E;}
.tabs{margin-bottom:12px;}
.tab-button{padding:10px 18px;border:1px solid #ccc;background:#f4f4f4;margin-right:6px;border-radius:5px;cursor:pointer;}
.tab-button.active{background:#4CAF50;color:#fff;border-color:#4CAF50;}
button.export{float:right;background:#4CAF50;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;}
button.export:hover{background:#388E3C;}
.legend span{margin-right:10px;}
table.kpi{border-collapse:collapse;width:100%;font-size:13px;}
table.kpi th, table.kpi td{padding:8px;border:1px solid #ddd;}
table.kpi thead{background:#f0f0f0;}
.notes{font-size:13px;line-height:1.45;margin-top:10px;}
</style>
</head>

<body>
<h1>PhD Gantt Master Dashboard â€” Wadie Kadri</h1>
<p><strong>Supervisor:</strong> Maha Charfeddine &nbsp; | &nbsp; <strong>Thesis:</strong> Lightweight, Secure & Explainable FL for IoMT IDS</p>

<div class="tabs">
    <button class="tab-button active" data-tab="tab_12w" onclick="showTab('tab_12w')">ðŸ“˜ 12-Week Plan</button>
    <button class="tab-button" data-tab="tab_y1" onclick="showTab('tab_y1')">ðŸŽ¯ Year 1</button>
    <button class="tab-button" data-tab="tab_3y" onclick="showTab('tab_3y')">ðŸŽ“ 3-Year</button>
    <button class="export" onclick="exportPDF()">ðŸ“„ Export PDF</button>
</div>

<div id="pdf_section">
<div id="tab_12w" class="tab-content" style="display:block">
<h2>ðŸ“˜ 12-Week Literature Review & Survey Paper Plan</h2>
<div id="chart_12w" style="width:100%;"></div>
</div>

<div id="tab_y1" class="tab-content" style="display:none">
<h2>ðŸŽ¯ Year 1 â€” Foundations & Prototype</h2>
<div id="chart_y1" style="width:100%;"></div>
</div>

<div id="tab_3y" class="tab-content" style="display:none">
<h2>ðŸŽ“ Full 3-Year Plan</h2>
<div id="chart_3y" style="width:100%;"></div>

<h3>KPIs per Year</h3>
<table class="kpi">
<thead><tr><th>Year</th><th>Focus Areas</th><th>KPIs / Targets</th><th>Deliverables</th></tr></thead>
<tbody>
<tr><td>2026</td><td>Foundations & Prototype</td><td>Survey Paper published, Prototype v1 ready, Dataset preprocessed, Conf Paper 1 draft</td><td>Survey Paper, Dataset, Prototype v1, Conf Paper 1</td></tr>
<tr><td>2027</td><td>Secure & Explainable FL</td><td>Robust aggregation & defense, XAI score â‰¥ defined, Conf Paper 2 submitted</td><td>Secure FL modules, XAI module, Conf Paper 2</td></tr>
<tr><td>2028</td><td>Validation & Dissemination</td><td>Full evaluation, Benchmarking, Q2 Journal submitted, Thesis ready</td><td>Experiments, Result Analysis, SOTA comparison, Journal, Thesis</td></tr>
</tbody>
</table>
</div>
</div>
</body>
</html>
